{% extends "base.html" %}
{% block content %}
<h2>ğŸš¨ ì‹ ê³  ë‚´ì—­ ê´€ë¦¬</h2>

{% if reports %}
<table class="product-table">
  <tr>
    <th>ì‹ ê³  ID</th>
    <th>ìœ í˜•</th>
    <th>ëŒ€ìƒ ID</th>
    <th>ì‹ ê³ ì</th>
    <th>ì‚¬ìœ </th>
    <th>ì‹ ê³  ì¼ì‹œ</th>
    <th>ì¡°ì¹˜</th>
  </tr>
  {% for r in reports %}
  <tr>
    <td>{{ r[0] }}</td>  <!-- report.id -->
    <td>{{ r[1] }}</td>  <!-- type: user/product -->
    <td>{{ r[2] }}</td>  <!-- target_id -->
    <td>{{ r[4] }}</td>  <!-- reporter username -->
    <td>{{ r[3] }}</td>  <!-- reason -->
    <td>{{ r[5] }}</td>  <!-- created_at -->
    <td>
      {% if r[1] == 'user' %}
        <a href="{{ url_for('block_user', user_id=r[2]) }}">ğŸ‘¤ ì°¨ë‹¨/í•´ì œ</a> |
        <a href="{{ url_for('delete_user', user_id=r[2]) }}" onclick="return confirm('ì •ë§ í•´ë‹¹ ìœ ì €ë¥¼ ì‚­ì œí• ê¹Œìš”?')">ğŸ—‘ï¸ ì‚­ì œ</a>
      {% elif r[1] == 'product' %}
        <a href="{{ url_for('block_product', product_id=r[2]) }}">ğŸ“¦ ì°¨ë‹¨/í•´ì œ</a> |
        <a href="{{ url_for('delete_reported_product', product_id=r[2]) }}" onclick="return confirm('ì •ë§ í•´ë‹¹ ìƒí’ˆì„ ì‚­ì œí• ê¹Œìš”?')">ğŸ—‘ï¸ ì‚­ì œ</a>
      {% endif %}
      <br>
      <a href="{{ url_for('delete_report', report_id=r[0]) }}" style="font-size: 0.85em; color: #c62828;" onclick="return confirm('ì‹ ê³  ë‚´ì—­ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')">ğŸ§¹ ì‹ ê³  ì‚­ì œ</a>
    </td>
  </tr>
  {% endfor %}
</table>
{% else %}
<p>ì‹ ê³ ëœ í•­ëª©ì´ ì—†ìŠµë‹ˆë‹¤.</p>
{% endif %}
{% endblock %}
